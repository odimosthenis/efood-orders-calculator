<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Efood Calculator Bookmarklet</title>
    <style>
        #bookmarklet{
            padding: 10px;
            border-radius: 5px;
            border: 2px solid rgb(80, 69, 87);
            background-color: rgb(102, 47, 255);
            text-decoration: none;
            color: rgb(255, 255, 255);
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="drag">
        <h2>Drag and drop it to your bookmarks</h2>
        <a href="" id="bookmarklet">efood orders bookmarks</a>
    </div>
</body>
<script>
document.querySelector('#bookmarklet').href = 
'javascript:fetch("https://api.e-food.gr/api/v1/user/orders/history?limit=1000&offset=5&mode=extended",{headers:{accept:"application/json, text/plain, */*","accept-language":"el",pragma:"no-cache","sec-ch-ua":\'" Not A;Brand";v="99", "Chromium";v="100", "Google Chrome";v="100"\',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":\'"Windows"\',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","x-core-installation-id":"c0f98458-e0f5-4afc-aae7-bde8e0d1a76d","x-core-platform":"web","x-core-session-id":window.app.userSid,"x-core-theme":"default:light","x-core-version":"2.25.15"},referrer:"https://www.e-food.gr/",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"omit"}).then(e=>{e.json().then(e=>{let n=0;e.data.orders.forEach(e=>{n+=e.price}),console.log(n),popup(n)})});let style_str="\n.popup {\n    width : 200px;\n    height : 100px;\n    border-radius : 3px;\n    box-shadow : 2px 2px 4px 4px grey;\n    position :fixed;\n    top : 10%;\n    left : 50%;\n    margin-left : -100px;\n    margin-top : -50px;\n    z-index : 100;  \n    text-align: center;\n    padding: 0px 0px;\n    background: white;\n} \n\n.bar{\n    height: 20px;\n    border-radius : 3px 3px 0px 0px;\n    background: rgb(238, 238, 238);\n}\n\n.close{\n    width: 20px;\n    height: inherit;\n    background: rgb(247, 148, 148);\n    z-index: 10;\n    float: right;\n    border-radius : 0px 3px 0px 0px;\n}\n\n.close:hover{\n    background: red;\n}\n\n.content{\n    padding: 5px 5px;\n}   \n} \n";function popup(e){let n=document.querySelector("head"),o=document.createElement("style");n.appendChild(o),o.innerHTML=style_str;let t=document.createElement("div");t.innerHTML=\'\n    <div class="bar">\n            Efood Bookmarklet\n                <div class="close">âœ–</div>\n    \n            </div>\n            <div class="content">\n                <b><i>Loading.. </i></b>\n            </div>\n            \',console.log(t),t.classList.add("popup"),document.querySelector("body").appendChild(t),document.querySelector(".close").addEventListener("click",()=>{t.remove(),console.log("removes: ",t)}),t.querySelector(".content").innerHTML=` Your Total Price: <br> <i> <b> ${e.toFixed(2)} </b> </i> <br> click to close `}'
</script>
</html>